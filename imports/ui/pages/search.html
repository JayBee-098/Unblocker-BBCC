<template name="pages_search">
  {{#autoForm schema='Schemas.animeSearch' id='animeSearchForm' autosave=true autosaveOnKeyup=true}}
    {{> afQuickField name='query'}}
  {{/autoForm}}

  <div class="container">
    <ul class="collection">
      {{#each shows}}
        <li class="collection-item">
          <a href="{{pathFor 'show' showId=_id}}">{{name}}</a>
          <p>[{{altNames}}]</p>
          <p>{{{description}}}</p>
          <p>MAL ID: {{malId}}</p>
          <p>Type: {{type}}</p>
          <p>
            {{#each streamerUrls}}
              <a target="_blank" href="{{url}}">{{streamer}} ({{type}})</a>;
            {{/each}}
          </p>
        </li>
      {{/each}}
    </ul>

    <div class="preloader-wrapper big active" id="load-more-results">
      <div class="spinner-layer">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div>
        <div class="gap-patch">
          <div class="circle"></div>
        </div>
        <div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>
    </div>
  </div>

  {{> components_loading_indicator_background state=searching}}
</template>
